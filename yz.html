<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<style>
#wrap {
	padding-top: 50px;
	width: 300px;
	height: 250px;
	margin: 0 auto;
	background: #f3f3f3;
}
#wrap div {
	width: 300px;
	height: 30px;
	margin-bottom: 15px;
	font: 14px/20px "宋体";
}
#wrap input {
	font: 13px/20px "宋体";
	outline: none;
	border: 1px solid #c9c9c9;
	height: 20px;
	border-radius: 5px;
}
#wrap #btn {
	width: 60px;
	height: 30px;
	background: #c4c4c4;
	margin-left: 110px;
	border: 1px solid #ccc;
}
</style>
</head>
<body>
<div id="wrap">
	<div>请输入QQ号：<input type="text" class="input"></div>
	<div>请输入邮箱：<input type="text" class="input"></div>
	<div>请输入生日：<input type="text" placeholder="2016-11-29" class="input"></div>
	<input type="button" value="提交" id="btn"/>
</div>
<script>
var wrap = document.getElementById('wrap'),
	divs = wrap.getElementsByTagName('div'),
	inputs = document.querySelectorAll('.input'),
	btn = document.getElementById('btn');
btn.onclick = function() {
	for(var i = 0; i < inputs.length; i++) {
		if(inputs[i].value == "") {
			inputs[i].style.borderColor = "red";
		}
	}
}
for(var i = 0; i < inputs.length; i++) {
	inputs[i].onfocus = function() {
		this.style.borderColor = "green";
	}
}
inputs[0].onblur = function() {
	if(this.value != "" && /^[1-9]\d{4,10}$/.test(this.value.trim())) {
		this.style.borderColor = "green";
	}else {
		this.style.borderColor = "red";
	}
}
inputs[1].onblur = function() {
	if(this.value != "" && /^[a-z1-9]\w{5,16}@[a-z1-9]+\.(com|com.cn|cn)$/i.test(this.value.trim())) {
		this.style.borderColor = "green";
	}else {
		this.style.borderColor = "red";
	}
}
inputs[2].onblur = function() {
	var date  = new Date(),
	year  = date.getFullYear() , 
	month  = ac(date.getMonth() + 1), 
	date1  = ac(date.getDate()),
	time = year+month+date1;
	var data = inputs[2].value,
	now = data.split(''),
	sale = now[0]+now[1]+now[2]+now[3]+now[5]+now[6]+now[8]+now[9];
	nowyear = now[0]+now[1]+now[2]+now[3];
	console.log(nowyear)
	if(this.value != "" && /^[0-9]{4}-((0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-8])|(0[13-9]|1[0-2])-(29|30)|(0[13578]|1[02])-31)$/.test(this.value.trim())) {
		if(time - sale < 0) {
			this.style.borderColor = "red";
			alert("等你出生再说好吗？");
		}else {
			if(nowyear < 1916) {
				this.style.borderColor = "red";
				alert("你活的够久了");
			}else {
				this.style.borderColor = "green";
			}
		}
	}else {
		this.style.borderColor = "red";
	}
}
function ac(nub) {
	return nub < 10?"0"+nub:""+nub;
}
</script>
</body>
</html>